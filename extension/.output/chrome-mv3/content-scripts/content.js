var content=function(){"use strict";var A=Object.defineProperty;var L=(a,l,d)=>l in a?A(a,l,{enumerable:!0,configurable:!0,writable:!0,value:d}):a[l]=d;var u=(a,l,d)=>L(a,typeof l!="symbol"?l+"":l,d);var E,x;function a(n){return n}const d={matches:["*://*.localhost/*"],async main(n){window.addEventListener("message",function(e){e.source===window&&e.data&&chrome.runtime.sendMessage({type:"apiReqRes",options:{data:e.data}})}),chrome.runtime.onMessage.addListener((e,t,o)=>{var s,i;if(e.action==="showDialog"){if(document.getElementById("custom-popup"))return;const r=document.createElement("div");r.id="custom-popup",r.style.position="fixed",r.style.top="50%",r.style.left="50%",r.style.transform="translate(-50%, -50%)",r.style.zIndex="10000",r.style.background="#fff",r.style.border="1px solid #ccc",r.style.padding="20px",r.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.5)",r.style.width="300px",r.innerHTML=`
            <h3 style="margin-bottom: 10px;color: #555;">New Endpoint Data Detected</h3>
            <p style="margin-bottom: 15px; font-size: 14px; color: #555;">URL: <strong>${e.url}</strong></p>
            <p style="margin-bottom: 15px; font-size: 14px; color: #555;">Method: <strong>${e.method}</strong></p>
            <form id="popup-form">
              <div style="text-align: right;">
                <button type="submit" style="padding: 5px 10px; background: #4CAF50; color: white; border: none; border-radius: 4px;">Save</button>
                <button type="button" id="close-popup" style="padding: 5px 10px; background: #f44336; color: white; border: none; border-radius: 4px; margin-left: 10px;">Discard</button>
              </div>
            </form>
        `,document.body.appendChild(r),(s=document.getElementById("popup-form"))==null||s.addEventListener("submit",c=>{c.preventDefault(),console.log("Form Data:",{url:e.url}),chrome.runtime.sendMessage({type:"endPointFormSubmitted",data:{url:e.url,method:e.method,request:e.request,response:e.response,headers:e.headers,params:e.params}}),document.body.removeChild(r)}),(i=document.getElementById("close-popup"))==null||i.addEventListener("click",()=>{document.body.removeChild(r)})}e.action==="showLoadingbar"&&T(),e.action==="hideLoadingbar"&&I(),e.action==="applyData"&&(JSON.parse(e.data).forEach(c=>{const b=document.getElementById(c.key);if(b&&b instanceof HTMLInputElement){console.log("data injectin"),b.value=c.value;const P=new Event("input",{bubbles:!0});b.dispatchEvent(P)}}),S("Data Injected Successfully"),chrome.runtime.sendMessage({action:"closePopup"}))})}},S=n=>{if(document.getElementById("message-popup-overlay"))return;const e=document.createElement("div");e.id="message-popup-overlay",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgba(0, 0, 0, 0.6)",e.style.zIndex="10001",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center";const t=document.createElement("div");t.style.position="fixed",t.style.top="50%",t.style.left="50%",t.style.transform="translate(-50%, -50%)",t.style.zIndex="10000",t.style.background="#fff",t.style.border="1px solid #ccc",t.style.padding="20px",t.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.5)",t.style.width="300px",t.style.display="flex",t.style.flexDirection="column",t.style.justifyContent="center",t.style.alignItems="center";const o=document.createElement("p");o.textContent=n,o.style.marginBottom="20px",o.style.color="black",o.style.textAlign="center";const s=document.createElement("button");s.textContent="Close",s.style.padding="10px 20px",s.style.border="none",s.style.background="#4CAF50",s.style.color="#fff",s.style.borderRadius="4px",s.style.cursor="pointer",s.style.fontSize="16px",s.style.width="max-content",s.onclick=()=>{document.body.removeChild(e)},t.appendChild(o),t.appendChild(s),e.appendChild(t),document.body.appendChild(e)},T=()=>{if(document.getElementById("loading-overlay"))return;const n=document.createElement("div");n.id="loading-overlay",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.background="rgba(0, 0, 0, 0.6)",n.style.zIndex="10001",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center";const e=document.createElement("div");e.style.width="50px",e.style.height="50px",e.style.border="5px solid #f3f3f3",e.style.borderTop="5px solid #3498db",e.style.borderRadius="50%",e.style.animation="spin 1s linear infinite",n.appendChild(e),document.body.appendChild(n);const t=document.createElement("style");t.innerHTML=`
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(t)},I=()=>{const n=document.getElementById("loading-overlay");n&&document.body.removeChild(n)},y=((x=(E=globalThis.browser)==null?void 0:E.runtime)==null?void 0:x.id)==null?globalThis.chrome:globalThis.browser;function h(n,...e){}const C={debug:(...n)=>h(console.debug,...n),log:(...n)=>h(console.log,...n),warn:(...n)=>h(console.warn,...n),error:(...n)=>h(console.error,...n)},f=class f extends Event{constructor(e,t){super(f.EVENT_NAME,{}),this.newUrl=e,this.oldUrl=t}};u(f,"EVENT_NAME",v("wxt:locationchange"));let g=f;function v(n){var e;return`${(e=y==null?void 0:y.runtime)==null?void 0:e.id}:content:${n}`}function _(n){let e,t;return{run(){e==null&&(t=new URL(location.href),e=n.setInterval(()=>{let o=new URL(location.href);o.href!==t.href&&(window.dispatchEvent(new g(o,t)),t=o)},1e3))}}}const p=class p{constructor(e,t){u(this,"isTopFrame",window.self===window.top);u(this,"abortController");u(this,"locationWatcher",_(this));this.contentScriptName=e,this.options=t,this.abortController=new AbortController,this.isTopFrame?(this.listenForNewerScripts({ignoreFirstEvent:!0}),this.stopOldScripts()):this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(e){return this.abortController.abort(e)}get isInvalid(){return y.runtime.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(e){return this.signal.addEventListener("abort",e),()=>this.signal.removeEventListener("abort",e)}block(){return new Promise(()=>{})}setInterval(e,t){const o=setInterval(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearInterval(o)),o}setTimeout(e,t){const o=setTimeout(()=>{this.isValid&&e()},t);return this.onInvalidated(()=>clearTimeout(o)),o}requestAnimationFrame(e){const t=requestAnimationFrame((...o)=>{this.isValid&&e(...o)});return this.onInvalidated(()=>cancelAnimationFrame(t)),t}requestIdleCallback(e,t){const o=requestIdleCallback((...s)=>{this.signal.aborted||e(...s)},t);return this.onInvalidated(()=>cancelIdleCallback(o)),o}addEventListener(e,t,o,s){var i;t==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),(i=e.addEventListener)==null||i.call(e,t.startsWith("wxt:")?v(t):t,o,{...s,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),C.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){window.postMessage({type:p.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName},"*")}listenForNewerScripts(e){let t=!0;const o=s=>{var i,r;if(((i=s.data)==null?void 0:i.type)===p.SCRIPT_STARTED_MESSAGE_TYPE&&((r=s.data)==null?void 0:r.contentScriptName)===this.contentScriptName){const c=t;if(t=!1,c&&(e!=null&&e.ignoreFirstEvent))return;this.notifyInvalidated()}};addEventListener("message",o),this.onInvalidated(()=>removeEventListener("message",o))}};u(p,"SCRIPT_STARTED_MESSAGE_TYPE",v("wxt:content-script-started"));let w=p;const K=Symbol("null");let M=0;class N extends Map{constructor(){super(),this._objectHashes=new WeakMap,this._symbolHashes=new Map,this._publicKeys=new Map;const[e]=arguments;if(e!=null){if(typeof e[Symbol.iterator]!="function")throw new TypeError(typeof e+" is not iterable (cannot read property Symbol(Symbol.iterator))");for(const[t,o]of e)this.set(t,o)}}_getPublicKeys(e,t=!1){if(!Array.isArray(e))throw new TypeError("The keys parameter must be an array");const o=this._getPrivateKey(e,t);let s;return o&&this._publicKeys.has(o)?s=this._publicKeys.get(o):t&&(s=[...e],this._publicKeys.set(o,s)),{privateKey:o,publicKey:s}}_getPrivateKey(e,t=!1){const o=[];for(let s of e){s===null&&(s=K);const i=typeof s=="object"||typeof s=="function"?"_objectHashes":typeof s=="symbol"?"_symbolHashes":!1;if(!i)o.push(s);else if(this[i].has(s))o.push(this[i].get(s));else if(t){const r=`@@mkm-ref-${M++}@@`;this[i].set(s,r),o.push(r)}else return!1}return JSON.stringify(o)}set(e,t){const{publicKey:o}=this._getPublicKeys(e,!0);return super.set(o,t)}get(e){const{publicKey:t}=this._getPublicKeys(e);return super.get(t)}has(e){const{publicKey:t}=this._getPublicKeys(e);return super.has(t)}delete(e){const{publicKey:t,privateKey:o}=this._getPublicKeys(e);return!!(t&&super.delete(t)&&this._publicKeys.delete(o))}clear(){super.clear(),this._symbolHashes.clear(),this._publicKeys.clear()}get[Symbol.toStringTag](){return"ManyKeysMap"}get size(){return super.size}}new N;function F(){}function m(n,...e){}const k={debug:(...n)=>m(console.debug,...n),log:(...n)=>m(console.log,...n),warn:(...n)=>m(console.warn,...n),error:(...n)=>m(console.error,...n)};return(async()=>{try{const{main:n,...e}=d,t=new w("content",e);return await n(t)}catch(n){throw k.error('The content script "content" crashed on startup!',n),n}})()}();
content;
